<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>요소의 속성에 데이터 저장 data-xxx 속성
    </title>

    <style>
        ul {
            width: 200px;
            padding: 20px;
            background-color: rgb(0, 235, 252);
        }

        ul>li {
            border: 1px solid #000;
        }
    </style>
</head>

<body>
    <div id="dataArea">
        <table border="1" width="540px">
            <tr>
                <td>1</td>
                <td>이효리</td>
                <td>2022-10-10</td>
                <td><a href="https://www.google.com" data-userno="1" data-guestbook-no="72" data-uname="이효리">삭제</a></td>
            </tr>
            <tr>
                <td colspan="4">이효리 방문하고 갑니다.</td>
            </tr>
        </table>
        <br>

        <table border="1" width="540px">
            <tr>
                <td>2</td>
                <td>유재석</td>
                <td>2022-09-09</td>
                <td><a href="" data-userno="2" data-guestbook-no="73" data-uname="유재석">삭제</a></td>
            </tr>
            <tr>
                <td colspan="4">유재석 방문하고 갑니다.</td>
            </tr>
        </table>
        <br>

        <table border="1" width="540px">
            <tr>
                <td>3</td>
                <td>정우성</td>
                <td>2022-08-08</td>
                <td><a href="" data-userno="3" data-guestbook-no="74" data-uname="정우성">삭제</a></td>
            </tr>
            <tr>
                <td colspan="4">정우성 방문하고 갑니다.</td>
            </tr>
        </table>
        <br>
        <button id="btnGetDate" type="button">데이터수집</button>
    </div>
    <br>

    <script>
        //DOM tree 완성
        document.addEventListener('DOMContentLoaded', function () {
            console.log('DOM tree 완료');
            
            let aTag = document.querySelectorAll('table a');
            console.log(aTag[0]);
            console.log(aTag[1]);
            console.log(aTag[2]);

            for(let i =0; i<aTag.length; i++) {
                aTag[i].addEventListener('click', function (event) {
                //클릭한 a 요소의 기본기능(이동) 막기
                event.preventDefault(); 

                //data-xxx 값 가져오기
                console.log(event.target);

                let userNo = event.target.dataset.userno;
                let guestbookNo = event.target.dataset.guestbookNo;
                let uname = event.target.dataset.uname;
                console.log( "user-no: " + userNo);
                console.log( "user-no: " + guestbookNo);
                console.log( "user-no: " + uname);
            })
            
        };

        });
    </script>



</body>



</html>